<!DOCTYPE HTML>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title> Shell Scripting 101 </title>
</head>
<body>
	<h1 id="header"> Shell Scripting </h1>
	<hr>
	<h2> What is a shell? </h2>
	<p>
		<ul>
			<li>
				The <b>shell</b>, along with the <b>kernel</b>
				are the two main components of a computer's operating system (OS).
			</li>
			<li>
				The kernel is the innermost part of the OS.
				It facilitates communication between the hardware and software.
				It is also what makes an OS distinct from another.
			</li>
			<li>
				The shell is the outermost part of the OS.
				It is an interface that takes input in the form of a command and returns output.
				It protects the OS from accidental damages (hence its name).
				A <b>terminal</b> is often used to access a shell.
			</li>
		</ul>
	</p>
	<h2> Background </h2>
	<h3> First UNIX Shell </h3>
	<p> The first UNIX shell was created by <b>Ken Thomson</b> in 1971.
		It was an interactive shell, but lacked scripting ability.
	</p>
	<h3> Common Types of UNIX Shells </h3>
	<h4> Bourne Shell </h4>
	<ul>
		<li>Developed by <b>Steve Bourne</b></li>
		<li>First appeared in the Seventh Edition Bell Labs Research version of UNIX in 1977 </li>
		<li>The popular shell <b>BASH</b> (Bourne Again Shell) is a derivative of the Bourne Shell</li>
		<li>Its command prompt is <code>$</code></li>
	</ul>
	<h4> C Shell (CSH) </h4>
	<ul>
		<li> Developed by <b>Bill Joy</b> at UC-Berkeley in 1978 </li>
		<li> A variation of the C Shell is the <b>Top C Shell</b> (TCSH) </li>
		<li> Suited for network/system administrators or other professionals in the field</li>
		<li> Its command prompt is <code>%</code></li>
	</ul>
	<h4> Korn Shell </h4>
	<ul>
		<li> Developed by <b>David Korn</b> at Bell Labs, released in 1983</li>
		<li> Has slightly more features and better performance (e.g. better print command) than Bourne Shell, but requires more effort to learn
	</ul>
	<hr>
	<h2> Q: So, what is <i>shell scripting</i>?</h2>
	<h4> A: writing a a script that contains a series of commands for the shell to interpret and execute</h4>
	<h2> Q: Why should I learn to write shell scripts?</h2>
	<h4> A: It is useful for creating a procedure that runs your own commands,
		as opposed to typing them into your terminal one by one. This can save you lots of time.
		It helps to automate some tasks of day-to-day life, such as system administration.
	</h4>
	<h2> Q: What are some down sides of this glory practice?</h2>
	<h4> A: As much as it helps to speed things up, a shell script runs slower than a C program.
		However, it definitely makes life easier on the human end!
	</h4>
	<h4> A: There are also many bad shell scripts out there, since it is so easy to pick up...
		All the more reason why you should add it to your programming tool kit :)
		<p> Remember NOT to: </p>
		<ul>
			<li>Complicate your script as to hinder comprehension</li>
			<li>Slack on your indentation game</li>
			<li>Be extra on achieving a goal (keep it simple!)</li>
		</ul>
	</h4>
	<hr>
	<h2> Let's write some shell scripts! (for BASH)</h2>
	<h3> Running a script </h3>
	<h4> First, create a file with the <i>.sh</i> extension</h4>
	<pre><code>	touch script.sh</code></pre>
	<h4> The first line of the file should always be</h4>
	<pre><code>	#! /bin/sh</pre></code>
	<p> (directs the script to the location of the Bourne Shell script interpreter)</p>
	<h4> To test a shell script through BASH: </h4>
	<pre><code>	bash script.sh </pre></code>
	<h4> To run a shell script as an executable (to be incorporated in another program): </h4>
	<pre><code>	chmod a+x script.sh
		./script.sh</pre></code>
	<h3> Syntax </h3>
	<h4> Example 1 : Basics + Variables </h4>
	<pre><code>
	# Each command is on an individual line
	echo "hello world"
	ls
	# declare a variable
	# NOTE: do NOT leave any space on both sides of the = sign
	food="sushi"
	num=2
	# use $var_name to access value of variable
	echo "$food $num"</code></pre>
	<h4> Output of Example 1 </h4>
	<pre><samp>hello world
&lt;content of current dir&gt;
sushi 2
</samp></pre>
	<h4> Example 2 : If Statements </h4>
	<pre><code>
	# ---------- SYNTAX ----------
	# if [ &lt;condition&gt; ]
	# then
	#   &lt;command(s)&gt;
	# elif [ &lt;condition&gt; ]
	# then
	#   &lt;command(s)&gt;
	# else
	#   &lt;command(s)&gt;
	# fi
	# ----------------------------

	sleep_hr=3
	if [ "$sleep_hr" -lt "5" ]
	then
	    echo "physically and mentally tired"
	elif [ "$sleep_hr" -eq "5" ]
	then
	    echo "mentally tired"
	else
	    echo "just tired"
	fi</code></pre>
	<h4> Output of Example 2 </h4>
	<pre><samp>physically and mentally tired</samp></pre>
	<h4> Example 3 : For Loops </h4>
	<pre><code>
	# ---------- SYNTAX ----------
   	# for &lt;var_name&gt; in &lt;param(s)&gt;
   	# do
   	#   &lt;command(s)&gt;
   	# done
   	# ----------------------------

	for i in marge bart homer lisa 6 7 8
	do
	    echo "$i"
	done</code></pre>
	<h4> Output of Example 3 </h4>
	<pre><samp>marge
bart
homer
lisa
6
7
8</samp></pre>
	<h4> Example 4 : While Loops </h4>
	<pre><code>
	# ---------- SYNTAX ----------
	# while [ &lt;condition&gt; ]
	# do
	#   &lt;command(s)&gt;
	# done
	# ----------------------------

	while [ "$editor" != "sublime" ] # the spaces must exist
	do
	    echo "emacs or vim? (type sublime to quit)"
	    read editor # take user input
	    echo "You typed: $editor"
	    if [ "$editor" = "emacs" ]
	    then
	        echo "think again"
	    elif [ "$editor" = "vim" ]
	    then
	        echo "good choice"
	    else
	        echo "never heard of that"
	    fi
	done</code></pre>
	<h4> Output of Example 4 </h4>
	<pre><samp>emacs or vim? (type sublime to quit)
>(enter vim)
You typed: vim
good choice
emacs or vim? (type sublime to quit)
>(enter sublime)
You typed: sublime
never heard of that</samp></pre>
	<h4> Example 5 : Case Statements </h4>
	<pre><code>
	# ---------- SYNTAX ----------
	# case &lt;param&gt; in
	#   &lt;string1&gt;)
	#     &lt;command(s)&gt;
	#     ;;
	#   &lt;string2&gt;)
	#     &lt;command(s)>
	#     ;;
	# esac
	# ----------------------------

	while : # colon always evaluates to true
	do
	echo "carnival or renaissance?"
	read theme
	case $theme in
		renaissance)
		   echo "slate says yes"
	       break
	       ;;
		carnival)
			echo "it's renaissance anyways"
			break
	       ;;
		*)
			echo "Are you sophfrosh..."
	       ;;
	esac
	done</code></pre>
	<h4> Output of Example 5 </h4>
	<pre><samp>carnival or renaissance?
>(enter hello)
Are you sophfrosh...
carnival or renaissance?
>(enter carnival)
it's renaissance anyways</samp></pre>

<h4> Example 6 : Command Line Arguments </h4>
<pre><code>
	ct=0

	# $&lt;int&gt; accesses value of command line arguments,
	# starting with $0, the first argument
	# $@ is the list of all available command line arguments

	for i in $@
	do
		echo "arg $ct is $i"
		ct=`expr $ct + 1` # increment ct by 1
	done</code></pre>
<h4> Output of Example 6 </h4>
<p> Suppose the above code block is saved in a file named <i> demo.sh</i>,
	running
	<pre><code>./demo.sh hello there haha</code></pre>
	would yield: </p>
<pre><samp>
arg 0 is hello
arg 1 is there
arg 2 is haha
</samp></pre>
<h4> Example 7 : Function Arguments </h4>
<pre><code>
	# declare a variable
	# there are no local variables in a shell script

	g_var="original value"

	my_func()
	{
		# since $@ is used in a function definition,
		# it refers to the list of args that the function is called with

		for i in $@
		do
			`touch "stuff/$i.txt"`
		done

		# all var values are global
		g_var="global var has been modified"
	}

	my_func come watch SING!
	ls stuff/
	echo "g_var = $g_var"</code></pre>
<h4> Output of Example 7 </h4>
<p><i>note: assuming an empty dir named</i> stuff/ <i>exists, the output is</i></p>
<pre><samp>
SING!.txt       come.txt        watch.txt
g_var = global var has been modified
</samp></pre>
<footer>&copy; Copyright
	<a href="https://github.com/joyceliaoo/bottishelli">bottiSHELLi</a> 2019
</footer>
</body>
</html>
